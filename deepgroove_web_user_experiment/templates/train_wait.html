<html>
    <head>
        <title>DeepDrummer Experiment</title>
    </head>
    <body>
        <script>
            function startTimer(duration, display) {
                var timer = duration, minutes, seconds;
                setInterval(function () {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);

                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;

                    display.textContent = minutes + ":" + seconds;

                    if (--timer < 0) {
                        timer = 0;
                        // Here we reactivate the button which proceeds to
                        // the rest of the application.
                        document.getElementById("proceed_btn").disabled = false;
                    }
                }, 1000);
            }

            window.onload = function () {
                var seconds_delay = 10,
                    display = document.querySelector('#time');
                startTimer(seconds_delay, display);
            };
        </script>

        <h1>DeepDrummer Experiment</h1>

        <h2>Training delay</h2>
        <div>
            <p>
                Please wait while we train a model based on your preferences.
            </p>
            <div>You may proceed in <span id="time">00:00</span> minutes.</div>

            <div align="center">
                <form action="{{ url_for('final') }}">
                    <button type="submit" id="proceed_btn" disabled>Proceed</button>
                </form>
            </div>
    </body>
</html>
